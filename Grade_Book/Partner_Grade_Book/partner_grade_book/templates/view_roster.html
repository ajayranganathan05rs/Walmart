<!doctype html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="icon" sizes="192x192" href="{% static 'images/favicon.ico'%}">
    <title>WFM Dashboard</title>
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
    <meta name="description" content="This is an example dashboard created using build-in elements and components.">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="{% static 'css/main.css' %} " rel="stylesheet">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <style>
        .progress {
            height: 6px;
        }

        .widget-numbers {
            font-size: 22px !important;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12 col-md-12 col-sm-12" id="header">
                Customer Care L&D 
            </div>
        </div>
        <div class="row">
            <div class="container-fluid" id="navigation">
                <div class="col-sm-12 col-md-12 col-sm-12">
                    <nav class="navbar navbar-expand-lg navbar-light bg-light">
                        <ul class="nav navbar-nav">
                            <li><a href="home">Home</a></li>
                            <li><a href="quick_attendance">Quick Attendance</a></li>
                            <li><a href="observation">Observations</a></li>
                            <li><a href="system_tracker">System Tracker</a></li>
                            <li><a class="active" href="view_roster">View Roster</a></li>
                            <!-- home.html quick_attendance.html observation.html system_tracker.html view_roaster.html-->
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 col-md-6 col-lg-6">
                <p id="course"><label><b>Course Name :- </b></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span><input type="text" name="course_name" id="course_name" value="NH: CRT" disabled></span></p>
            </div>
            <div class="col-sm-6 col-md-6 col-lg-6">
                <p id="s_date_vr"><label><b>Select Date </b></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="text" id="select_date_vr" style="border-block-color: #3860b2;"><button onclick="show_dp();" style="background-color: #3860b2;margin: -26px;border-block-color: #3860b2;"><i class="fa fa-angle-down" style="font-size:15px;color:white"></i></button></p>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 col-md-3 col-lg-3">
                <label>Primary Facilitator</label><br>
                <input type="text" name="primary_facilitator" id="primary_facilitator">
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
                <label>Secondary Facilitator</label><br>
                <input type="text" name="primary_facilitator" id="secondary_facilitator">
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3 ">
                <label>Tertiary Facilitator</label><br>
                <input type="text" name="primary_facilitator" id="tertiary_facilitator">
            </div>
            <div class="col-sm-3 col-md-3 col-lg-3">
                <br>
                <button id="add_vr"> +  Add </button>
            </div>
        </div>
        <div class="row">
            <div class="table-responsive">
                <table class = "table table-striped">
                    <thead>
                        <tr>
                            <th>Learner User ID</th>
                            <th>Firstname</th>
                            <th>LastName</th>
                            <th>Email</th>
                            <th>Supervisor</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" placeholder="j0n04in" class="text"></td>
                            <td><input type="text" placeholder="Judith" class="text"></td>
                            <td><input type="text" placeholder="Nelson" class="text"></td>
                            <td><input type="text" placeholder="jrn@walmart.com" class="text"></td>
                            <td><input type="text" placeholder="Wes" class="text"></td>
                            <td>&#x1F5D1;</td>
                            <tr>
                                <td><input type="text" placeholder="k0n05kz" class="text"></td>
                                <td><input type="text" placeholder="Jackie" class="text"></td>
                                <td><input type="text" placeholder="Chan" class="text"></td>
                                <td><input type="text" placeholder="jc@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="k0n05kz" class="text"></td>
                                <td><input type="text" placeholder="Jackie" class="text"></td>
                                <td><input type="text" placeholder="Chan" class="text"></td>
                                <td><input type="text" placeholder="jc@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="1010Kigh" class="text"></td>
                                <td><input type="text" placeholder="Jim" class="text"></td>
                                <td><input type="text" placeholder="Halpert" class="text"></td>
                                <td><input type="text" placeholder="jh@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="1010Kigh" class="text"></td>
                                <td><input type="text" placeholder="Jim" class="text"></td>
                                <td><input type="text" placeholder="Halpert" class="text"></td>
                                <td><input type="text" placeholder="jh@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                            <tr>
                                <td><input type="text" placeholder="m0c07xm" class="text"></td>
                                <td><input type="text" placeholder="The" class="text"></td>
                                <td><input type="text" placeholder="Doctor" class="text"></td>
                                <td><input type="text" placeholder="td@walmart.com" class="text"></td>
                                <td><input type="text" placeholder="Wes" class="text"></td>
                                <td>&#x1F5D1;</td>
                            </tr>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2 col-md-2 col-lg-2">
                <button id="reset_st"> cancel </button>
            </div>
            <div class="col-sm-8 col-md-8 col-lg-8">
            </div>
            <div class="col-sm-2 col-md-2 col-lg-2">
                <button id="submit_st"> save </button>
            </div>
        </div>
    </div>
    <div id="toast">
        <div id="img">Icon</div>
        <div id="desc">A notification message..</div>
    </div>
    <script src="{% static 'scripts/jquery-3.6.0.min.js' %}"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="{% static 'scripts/main.js' %}"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
    <script type="text/javascript">
        function show_dp(){
          $("#select_date_vr").datepicker('show'); //Show on click of button
          }
        $("document").ready(function(){
            $( "#select_date_vr" ).datepicker();
            const today = new Date();
            const yyyy = today.getFullYear();
            let mm = today.getMonth() + 1; // Months start at 0!
            let dd = today.getDate();
            if (dd < 10) dd = '0' + dd;
            if (mm < 10) mm = '0' + mm;
            const formattedToday = dd + '/' + mm + '/' + yyyy;
            $( "#select_date_vr" ).val(formattedToday);
           $('#uploader_roaster').change(function(){
                filename=$('#uploader_roaster').prop('files')[0]['name'];
                var file = $('#uploader_roaster').prop('files')[0];
                var csrf_token = "{{ csrf_token }}";
                var fd = new FormData();
                fd.append('docs',file)
                $.ajax({
                    url : '/upload_roaster/',
                    csrfmiddlewaretoken : csrf_token,
                    type : 'POST',
                    data : fd,
                    contentType: false,
                    processData: false,
                    success: function(data) {
                        data=JSON.parse(data);
                        if (data['columns'] === 'Error')
                        {
                            // img_content='Upload Error';
                            // content=filename+' Uploaded Successfully';
                            content='File Upload Error';;
                            $('#img').html("<i class='fas fa-exclamation-circle' style='font-size:23px;color:red'>");
                            // $('#img').css({'background-color': '#eee'});
                            $('#desc').text(content);
                            var x = document.getElementById("toast");
                            x.className = "show";
                            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
                        }
                        else{
                            alert(data['columns']);
                            img_content='Upload';
                            // content=filename+' Uploaded Successfully';
                            content='File Uploaded Successfully';
                            $('#img').text(img_content);
                            $('#desc').text(content);
                            var x = document.getElementById("toast")
                            x.className = "show";
                            setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);    
                        }
                        
                    },
                    failure: function(data) {
                        img_content='Upload';
                        // content=filename+' Uploaded Successfully';
                        content='Error while uploding '+filename+' file';
                        $('#img').text(img_content);
                        $('#desc').text(content);
                        var x = document.getElementById("toast");
                        x.className = "show";
                        setTimeout(function(){ x.className = x.className.replace("show", ""); }, 3000);
                    }
                });
                
           }); 
        });
    </script>
</body>

</html>